
  {% assign codes = 'USD,EUR,GBP,CAD,ARS,AUD,BBD,BDT,BSD,BHD,BRL,BOB,BND,BGN,ILS,MMK,KYD,CLP,CNY,COP,CRC,HRK,CZK,DKK,DOP,XCD,EGP,XPF,FJD,GHS,GTQ,GYD,GEL,HKD,HUF,ISK,INR,IDR,NIS,JMD,JPY,JOD,KZT,KES,KWD,LVL,LTL,MXN,MYR,MUR,MDL,MAD,MNT,MZN,ANG,NZD,NGN,NOK,OMR,PKR,PYG,PEN,PHP,PLN,QAR,RON,RUB,SAR,RSD,SCR,SGD,SYP,ZAR,KRW,LKR,SEK,CHF,TWD,THB,TZS,TTD,TRY,UAH,AED,UYU,VEB,VND,ZMK' | split: ',' %}
  {% comment %} {% assign supported_codes = settings.supported_currencies | split: ' ' %} {% endcomment %}
  {% assign supported_codes = settings.custom_curr | split: ', ' %}
      {% if localization.available_countries.size > 1 and settings.show_curr_selector %}
      {% endif %}
      <localization-form class="custom_currency">
        {% form 'localization' %}
          <div class="disclosure">
            <button type="button" class="disclosure__button currency_icon" aria-expanded="false" aria-controls="CountryList">
              <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.197 4.8a.8.8 0 11-.002 1.602.8.8 0 01.002-1.601zm0 2.8a2 2 0 100-4 2 2 0 000 4zM2.229 16l1.2-3.6h3.454a25.634 25.634 0 001.725 2.14.797.797 0 001.178 0 25.632 25.632 0 001.725-2.14h3.054l1.2 3.6H2.229zM5.197 6c0-2.205 1.794-4 4-4s4 1.795 4 4c0 1.416-1.144 3.552-2.436 5.392a.596.596 0 00-.091.128c-.491.69-1 1.336-1.473 1.88a24.69 24.69 0 01-1.473-1.88.596.596 0 00-.09-.128C6.34 9.552 5.196 7.416 5.196 6zm11.97 10.411l-1.6-4.8a.6.6 0 00-.57-.41h-2.663c1.098-1.699 2.063-3.65 2.063-5.2a5.2 5.2 0 10-10.4 0c0 1.55.965 3.501 2.063 5.2H2.997a.6.6 0 00-.57.41l-1.6 4.8a.599.599 0 00.57.79h15.2a.6.6 0 00.57-.79z"></path></svg>
              {% comment %} <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1220_2)"><path d="M20 9.99917C20 9.9975 20 9.99583 20 9.99417C20 7.035 18.7117 4.3775 16.6658 2.55L16.6558 2.54167C16.63 2.51417 16.6025 2.49 16.5717 2.46917L16.57 2.46833C14.8242 0.935 12.5208 0 9.99833 0C7.47167 0 5.165 0.938333 3.40667 2.48667L3.4175 2.4775C3.39583 2.49417 3.37667 2.51167 3.35917 2.53167V2.5325C1.29417 4.37 0 7.035 0 10.0017C0 12.96 1.28667 15.6175 3.33083 17.4458L3.34083 17.4542C3.34083 17.4567 3.3425 17.4583 3.345 17.4583C3.37083 17.4875 3.39917 17.5125 3.42917 17.535L3.43083 17.5358C5.17583 19.0667 7.47833 20.0008 9.99833 20.0008C12.525 20.0008 14.8325 19.0625 16.5908 17.5142L16.58 17.5233C16.605 17.505 16.6267 17.4858 16.6467 17.465C18.7092 15.63 20.0017 12.9692 20.0017 10.0058C20.0017 10.0042 20.0017 10.0017 20.0017 10L20 9.99917ZM16.2817 16.5033C15.8017 16.1133 15.2625 15.7558 14.6908 15.4517L14.6367 15.425C15.1475 13.9525 15.455 12.255 15.4842 10.4892V10.4758H19.035C18.905 12.8525 17.8758 14.9658 16.2842 16.5008L16.2817 16.5033ZM10.4767 15.2492C11.5458 15.3067 12.545 15.5417 13.4667 15.9242L13.4067 15.9025C12.6683 17.5858 11.6292 18.7425 10.4767 18.9967V15.2492ZM10.4767 14.2958V10.4758H14.5333C14.4975 12.11 14.2142 13.6658 13.72 15.1242L13.7525 15.015C12.7883 14.6117 11.6708 14.3525 10.5 14.2967L10.4775 14.2958H10.4767ZM10.4767 9.5225V5.7025C11.6692 5.645 12.7867 5.38667 13.8158 4.96L13.75 4.98417C14.2125 6.33333 14.4967 7.88833 14.5333 9.505V9.5225H10.4767ZM10.4767 4.74917V1.00333C11.6292 1.2575 12.6683 2.40917 13.4067 4.0975C12.545 4.45583 11.5458 4.69 10.5008 4.74833L10.4767 4.74917ZM12.855 1.41583C13.8867 1.765 14.7817 2.25667 15.57 2.87583L15.5508 2.86083C15.1817 3.15083 14.7675 3.42417 14.3308 3.66167L14.2842 3.685C13.91 2.8125 13.43 2.0625 12.8475 1.40417L12.855 1.41333V1.41583ZM9.52167 1.00583V4.74917C8.4525 4.69167 7.45333 4.4575 6.53167 4.07417L6.59167 4.09583C7.33333 2.4125 8.37083 1.25667 9.52333 1.0025L9.52167 1.00583ZM5.715 3.6825C5.23167 3.42 4.8175 3.1475 4.42833 2.84333L4.44833 2.85833C5.2175 2.25333 6.11167 1.7625 7.08 1.43167L7.14333 1.4125C6.56917 2.06083 6.08917 2.81083 5.73583 3.6275L5.715 3.68167V3.6825ZM9.52333 5.70167V9.52167H5.46667C5.50333 7.8875 5.7875 6.3325 6.2825 4.87417L6.25 4.98333C7.21333 5.38583 8.33083 5.645 9.50083 5.70083L9.52333 5.70167ZM9.52333 10.475V14.295C8.33083 14.3525 7.21333 14.6108 6.18417 15.0375L6.25 15.0133C5.7875 13.665 5.50333 12.1092 5.46667 10.4925V10.475H9.52333ZM9.52333 15.2483V18.9942C8.37083 18.74 7.33167 17.5883 6.59333 15.9C7.455 15.5417 8.45417 15.3083 9.49917 15.25L9.52333 15.2492V15.2483ZM7.14833 18.5817C6.11667 18.2333 5.2225 17.7433 4.43333 17.125L4.45333 17.14C4.8225 16.85 5.23667 16.5767 5.67333 16.3392L5.72 16.3158C6.09083 17.1883 6.57167 17.9383 7.15583 18.5933L7.14833 18.585V18.5817ZM14.285 16.315C14.7683 16.5775 15.1825 16.85 15.5717 17.1542L15.5517 17.1392C14.7825 17.7442 13.8883 18.235 12.92 18.5658L12.8567 18.585C13.4308 17.9367 13.9108 17.1875 14.2642 16.3708L14.285 16.3167V16.315ZM19.035 9.5225H15.4842C15.455 7.74333 15.1475 6.04583 14.6025 4.4575L14.6367 4.5725C15.2625 4.24 15.8008 3.8825 16.3008 3.47917L16.2808 3.49417C17.875 5.03167 18.9042 7.145 19.0333 9.49833L19.0342 9.52167L19.035 9.5225ZM3.71833 3.495C4.19833 3.885 4.7375 4.2425 5.30917 4.54667L5.36333 4.57333C4.8525 6.04583 4.545 7.74333 4.51583 9.50917V9.5225H0.964167C1.09417 7.14583 2.12333 5.0325 3.715 3.4975L3.7175 3.495H3.71833ZM0.965 10.4758H4.51583C4.545 12.255 4.8525 13.9525 5.3975 15.5408L5.36333 15.4258C4.7375 15.7583 4.19917 16.1158 3.69917 16.5192L3.71917 16.5042C2.125 14.9667 1.09583 12.8533 0.966667 10.5L0.965833 10.4767L0.965 10.4758Z" fill="black"/></g><defs><clipPath id="clip0_1220_2"><rect width="20" height="20" fill="white"/></clipPath></defs></svg> {% endcomment %}
            </button>
            <ul id="CountryList" role="list" class="disclosure__list currency_list" hidden="true">
              {% for code in supported_codes %}
                {% if codes contains code %}
                  <li class="disclosure__item">
                    <div class="country_flag country_flag-{{ code }}"></div>
                    <a href="#" data-value="{{ code }}" class="js-no-transition"> {{ code }} </a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
            <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
          </div>
        {% endform %}
      </localization-form>

  {% comment %} {% if localization.country.iso_code == 'UA' %}ðŸ†—{% endif %} {% endcomment %}
  {% comment %} Local code: {{ request.locale.iso_code }} {% endcomment %}
  {% comment %} Your country: {{ localization.country.iso_code }} {% endcomment %}

<style>
  {% unless settings.curr_flag_enabled %}
    .country_flag {
      display: none !important;
    }
  {% endunless %}
  .currency_icon {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 12px 10px;
  }
  .disclosure__item {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 8px 20px 8px;
    border-bottom: 1px solid darkgray;
  }
  .custom_currency .currency_list {
    display: none;
  }
  .custom_currency:hover .currency_list {
    display: block;
  }
  .disclosure__item:hover {
    text-decoration: underline;
    text-underline-offset: 4px;
    background: whitesmoke;
  }
  .custom_currency {
    position: relative;
    cursor: pointer;
  }
  .currency_list {
    position: absolute;
    list-style: none;
    min-width: max-content;
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    left: -42px;
    padding: 0;
    margin: 0;
    top: 35px;
  }
  .country_flag {
    {% comment %} background-image: url(https://cdn.shopify.com/s/files/1/0194/1736/6592/t/1/assets/ba-flags.png?=1426193â€¦); {% endcomment %}
  }
  .country_flag {
    background-image: url(https://cdn.shopify.com/s/files/1/0194/1736/6592/t/1/assets/ba-flags.png?=14261939516959647149);
    height: 19px !important
  }
  .country_flag {
    width: 30px;
    height: 20px;
    display: inline-block;
    vertical-align: middle;
    margin-right: 12px;
    background-size: 30px !important;
    border-radius: 2px;
    background-repeat: no-repeat;
  }
  /* position flag */
  .country_flag-NO-FLAG{background-position:0 0}.country_flag-AD{background-position:0 -20px}.country_flag-AED{background-position:0 -40px}.country_flag-AFN{background-position:0 -60px}.country_flag-AG{background-position:0 -80px}.country_flag-AI{background-position:0 -100px}.country_flag-ALL{background-position:0 -120px}.country_flag-AMD{background-position:0 -140px}.country_flag-AOA{background-position:0 -160px}.country_flag-ARS{background-position:0 -180px}.country_flag-AS{background-position:0 -200px}.country_flag-AT{background-position:0 -220px}.country_flag-AUD{background-position:0 -240px}.country_flag-AWG{background-position:0 -260px}.country_flag-AZN{background-position:0 -280px}.country_flag-BAM{background-position:0 -300px}.country_flag-BBD{background-position:0 -320px}.country_flag-BDT{background-position:0 -340px}.country_flag-BE{background-position:0 -360px}.country_flag-BF{background-position:0 -380px}.country_flag-BGN{background-position:0 -400px}.country_flag-BHD{background-position:0 -420px}.country_flag-BIF{background-position:0 -440px}.country_flag-BJ{background-position:0 -460px}.country_flag-BMD{background-position:0 -480px}.country_flag-BND{background-position:0 -500px}.country_flag-BOB{background-position:0 -520px}.country_flag-BRL{background-position:0 -540px}.country_flag-BSD{background-position:0 -560px}.country_flag-BTN{background-position:0 -580px}.country_flag-BWP{background-position:0 -600px}.country_flag-BYN{background-position:0 -620px}.country_flag-BZD{background-position:0 -640px}.country_flag-CAD{background-position:0 -660px}.country_flag-CC{background-position:0 -680px}.country_flag-CDF{background-position:0 -700px}.country_flag-CG{background-position:0 -720px}.country_flag-CHF{background-position:0 -740px}.country_flag-CI{background-position:0 -760px}.country_flag-CK{background-position:0 -780px}.country_flag-CLP{background-position:0 -800px}.country_flag-CM{background-position:0 -820px}.country_flag-CNY{background-position:0 -840px}.country_flag-COP{background-position:0 -860px}.country_flag-CRC{background-position:0 -880px}.country_flag-CU{background-position:0 -900px}.country_flag-CX{background-position:0 -920px}.country_flag-CY{background-position:0 -940px}.country_flag-CZK{background-position:0 -960px}.country_flag-DE{background-position:0 -980px}.country_flag-DJF{background-position:0 -1000px}.country_flag-DKK{background-position:0 -1020px}.country_flag-DM{background-position:0 -1040px}.country_flag-DOP{background-position:0 -1060px}.country_flag-DZD{background-position:0 -1080px}.country_flag-EC{background-position:0 -1100px}.country_flag-EE{background-position:0 -1120px}.country_flag-EGP{background-position:0 -1140px}.country_flag-ER{background-position:0 -1160px}.country_flag-ES{background-position:0 -1180px}.country_flag-ETB{background-position:0 -1200px}.country_flag-EUR{background-position:0 -1220px}.country_flag-FI{background-position:0 -1240px}.country_flag-FJD{background-position:0 -1260px}.country_flag-FKP{background-position:0 -1280px}.country_flag-FO{background-position:0 -1300px}.country_flag-FR{background-position:0 -1320px}.country_flag-GA{background-position:0 -1340px}.country_flag-GBP{background-position:0 -1360px}.country_flag-GD{background-position:0 -1380px}.country_flag-GEL{background-position:0 -1400px}.country_flag-GHS{background-position:0 -1420px}.country_flag-GIP{background-position:0 -1440px}.country_flag-GL{background-position:0 -1460px}.country_flag-GMD{background-position:0 -1480px}.country_flag-GNF{background-position:0 -1500px}.country_flag-GQ{background-position:0 -1520px}.country_flag-GR{background-position:0 -1540px}.country_flag-GTQ{background-position:0 -1560px}.country_flag-GU{background-position:0 -1580px}.country_flag-GW{background-position:0 -1600px}.country_flag-HKD{background-position:0 -1620px}.country_flag-HNL{background-position:0 -1640px}.country_flag-HRK{background-position:0 -1660px}.country_flag-HTG{background-position:0 -1680px}.country_flag-HUF{background-position:0 -1700px}.country_flag-IDR{background-position:0 -1720px}.country_flag-IE{background-position:0 -1740px}.country_flag-ILS{background-position:0 -1760px}.country_flag-INR{background-position:0 -1780px}.country_flag-IO{background-position:0 -1800px}.country_flag-IQD{background-position:0 -1820px}.country_flag-IRR{background-position:0 -1840px}.country_flag-ISK{background-position:0 -1860px}.country_flag-IT{background-position:0 -1880px}.country_flag-JMD{background-position:0 -1900px}.country_flag-JOD{background-position:0 -1920px}.country_flag-JPY{background-position:0 -1940px}.country_flag-KES{background-position:0 -1960px}.country_flag-KGS{background-position:0 -1980px}.country_flag-KHR{background-position:0 -2000px}.country_flag-KI{background-position:0 -2020px}.country_flag-KMF{background-position:0 -2040px}.country_flag-KN{background-position:0 -2060px}.country_flag-KP{background-position:0 -2080px}.country_flag-KRW{background-position:0 -2100px}.country_flag-KWD{background-position:0 -2120px}.country_flag-KYD{background-position:0 -2140px}.country_flag-KZT{background-position:0 -2160px}.country_flag-LBP{background-position:0 -2180px}.country_flag-LI{background-position:0 -2200px}.country_flag-LKR{background-position:0 -2220px}.country_flag-LRD{background-position:0 -2240px}.country_flag-LSL{background-position:0 -2260px}.country_flag-LT{background-position:0 -2280px}.country_flag-LU{background-position:0 -2300px}.country_flag-LV{background-position:0 -2320px}.country_flag-LYD{background-position:0 -2340px}.country_flag-MAD{background-position:0 -2360px}.country_flag-MC{background-position:0 -2380px}.country_flag-MDL{background-position:0 -2400px}.country_flag-ME{background-position:0 -2420px}.country_flag-MGA{background-position:0 -2440px}.country_flag-MKD{background-position:0 -2460px}.country_flag-ML{background-position:0 -2480px}.country_flag-MMK{background-position:0 -2500px}.country_flag-MN{background-position:0 -2520px}.country_flag-MOP{background-position:0 -2540px}.country_flag-MQ{background-position:0 -2560px}.country_flag-MR{background-position:0 -2580px}.country_flag-MS{background-position:0 -2600px}.country_flag-MT{background-position:0 -2620px}.country_flag-MUR{background-position:0 -2640px}.country_flag-MVR{background-position:0 -2660px}.country_flag-MWK{background-position:0 -2680px}.country_flag-MXN{background-position:0 -2700px}.country_flag-MYR{background-position:0 -2720px}.country_flag-MZN{background-position:0 -2740px}.country_flag-NAD{background-position:0 -2760px}.country_flag-NE{background-position:0 -2780px}.country_flag-NF{background-position:0 -2800px}.country_flag-NG{background-position:0 -2820px}.country_flag-NIO{background-position:0 -2840px}.country_flag-NL{background-position:0 -2860px}.country_flag-NOK{background-position:0 -2880px}.country_flag-NPR{background-position:0 -2900px}.country_flag-NR{background-position:0 -2920px}.country_flag-NU{background-position:0 -2940px}.country_flag-NZD{background-position:0 -2960px}.country_flag-OMR{background-position:0 -2980px}.country_flag-PAB{background-position:0 -3000px}.country_flag-PEN{background-position:0 -3020px}.country_flag-PGK{background-position:0 -3040px}.country_flag-PHP{background-position:0 -3060px}.country_flag-PKR{background-position:0 -3080px}.country_flag-PLN{background-position:0 -3100px}.country_flag-PR{background-position:0 -3120px}.country_flag-PS{background-position:0 -3140px}.country_flag-PT{background-position:0 -3160px}.country_flag-PW{background-position:0 -3180px}.country_flag-QAR{background-position:0 -3200px}.country_flag-RON{background-position:0 -3220px}.country_flag-RSD{background-position:0 -3240px}.country_flag-RUB{background-position:0 -3260px}.country_flag-RWF{background-position:0 -3280px}.country_flag-SAR{background-position:0 -3300px}.country_flag-SBD{background-position:0 -3320px}.country_flag-SCR{background-position:0 -3340px}.country_flag-SDG{background-position:0 -3360px}.country_flag-SEK{background-position:0 -3380px}.country_flag-SGD{background-position:0 -3400px}.country_flag-SI{background-position:0 -3420px}.country_flag-SK{background-position:0 -3440px}.country_flag-SLL{background-position:0 -3460px}.country_flag-SM{background-position:0 -3480px}.country_flag-SN{background-position:0 -3500px}.country_flag-SO{background-position:0 -3520px}.country_flag-SRD{background-position:0 -3540px}.country_flag-SSP{background-position:0 -3560px}.country_flag-STD{background-position:0 -3580px}.country_flag-SV{background-position:0 -3600px}.country_flag-SYP{background-position:0 -3620px}.country_flag-SZL{background-position:0 -3640px}.country_flag-TC{background-position:0 -3660px}.country_flag-TD{background-position:0 -3680px}.country_flag-TG{background-position:0 -3700px}.country_flag-THB{background-position:0 -3720px}.country_flag-TJS{background-position:0 -3740px}.country_flag-TK{background-position:0 -3760px}.country_flag-TMT{background-position:0 -3780px}.country_flag-TND{background-position:0 -3800px}.country_flag-TOP{background-position:0 -3820px}.country_flag-TRY{background-position:0 -3840px}.country_flag-TTD{background-position:0 -3860px}.country_flag-TWD{background-position:0 -3880px}.country_flag-TZS{background-position:0 -3900px}.country_flag-UAH{background-position:0 -3920px}.country_flag-UGX{background-position:0 -3940px}.country_flag-USD{background-position:0 -3960px}.country_flag-UYU{background-position:0 -3980px}.country_flag-UZS{background-position:0 -4000px}.country_flag-VEF{background-position:0 -4020px}.country_flag-VG{background-position:0 -4040px}.country_flag-VI{background-position:0 -4060px}.country_flag-VND{background-position:0 -4080px}.country_flag-VUV{background-position:0 -4100px}.country_flag-WST{background-position:0 -4120px}.country_flag-XAF{background-position:0 -4140px}.country_flag-XPF{background-position:0 -4160px}.country_flag-YER{background-position:0 -4180px}.country_flag-ZAR{background-position:0 -4200px}.country_flag-ZM{background-position:0 -4220px}.country_flag-ZW{background-position:0 -4240px}
</style>


<script type="text/javascript">

 // switch currency
 class LocalizationForm extends HTMLElement {
  constructor() {
    super();
    this.elements = {
      input: this.querySelector('input[name="language_code"], input[name="country_code"]'),
      button: this.querySelector('button'),
      panel: this.querySelector('ul'),
    };
    this.elements.button.addEventListener('click', this.openSelector.bind(this));
    this.elements.button.addEventListener('focusout', this.closeSelector.bind(this));
    this.addEventListener('keyup', this.onContainerKeyUp.bind(this));
    this.querySelectorAll('a').forEach(item => item.addEventListener('click', this.onItemClick.bind(this)));
  }
  hidePanel() {
    this.elements.button.setAttribute('aria-expanded', 'false');
    this.elements.panel.setAttribute('hidden', true);
  }
  onContainerKeyUp(event) {
    if (event.code.toUpperCase() !== 'ESCAPE') return;
    this.hidePanel();
    this.elements.button.focus();
  }
  onItemClick(event) {
    event.preventDefault();
    const form = this.querySelector('form');
    this.elements.input.value = event.currentTarget.dataset.value;
    if (form) form.submit();
  }
  openSelector() {
    this.elements.button.focus();
    this.elements.panel.toggleAttribute('hidden');
    this.elements.button.setAttribute('aria-expanded', (this.elements.button.getAttribute('aria-expanded') === 'false').toString());
  }
  closeSelector(event) {
    const shouldClose = event.relatedTarget && event.relatedTarget.nodeName === 'BUTTON';
    if (event.relatedTarget === null || shouldClose) {
      this.hidePanel();
    }
  }
}
customElements.define('localization-form', LocalizationForm);
</script>

{% comment %} 
      {
        "type": "header",
        "content": "Custom currency selector"
      },
      {
        "type": "checkbox",
        "id": "show_curr_selector",
        "label": "Show currency selector",
        "default": true
      },
      {
        "type": "text",
        "id": "custom_curr",
        "default": "USD, EUR, CAD, JPY, NOK, UAH",
        "label": "Set currency code (comma separate) \"GBP, USD, EUR, CAD, AUD, JPY, NOK, UAH\""
      },
      {
        "type": "paragraph",
        "content": "Set currency code (comma separate) \"GBP, USD, EUR, CAD, AUD, JPY, NOK, UAH\""
      },
      {
        "type": "checkbox",
        "id": "curr_flag_enabled",
        "label": "Show country flags",
        "default": true
      }
     {% endcomment %}
